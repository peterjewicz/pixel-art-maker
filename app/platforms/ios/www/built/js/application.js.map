{"version":3,"sources":["js/application.js","webpack/bootstrap 16a4f1eed840879c88d1","./src/application.js","./src/stage.js","./src/colorpicker.js","./src/fileHandler.js","./src/sidebarHandler.js","./src/loadHandler.js","webpack:///./src/styles/index.scss?f591","./src/styles/index.scss","./~/css-loader/lib/css-base.js","./~/style-loader/lib/addStyles.js","./~/style-loader/lib/urls.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_stage","_stage2","_colorpicker","_colorpicker2","_fileHandler","_fileHandler2","_sidebarHandler","_sidebarHandler2","_loadHandler","_loadHandler2","setTimeout","window","location","pathname","includes","LoadHandler","Stage","StageInit","init","colorpicker","AColorPicker","createPicker","attachTo","color","colorPickerModel","ColorPicker","setColorPickerRef","FileHandler","SidebarHandler","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_class","this","fillColor","erase","canvas","ctx","backgroundCanvas","bgctx","colorPicker","_this","wrapper","document","getElementById","style","width","clientWidth","height","clientHeight","getContext","promise","Promise","resolve","reject","x","y","rect","stroke","fillStyle","fillRect","bindEvents","then","result","loadWrapper","classList","toggle","_this2","addEventListener","handleClick","handleMouseDown","handleMouseUp","handleDrag","eraseHandler","toggleErase","pencilTool","activatePencil","handleDownload","downloadImage","success","msg","alert","error","err","imageDataUrl","toDataURL","imageData","replace","cordova","exec","image","href","getBoundingClientRect","event","clientX","left","clientY","top","preventDefault","mouseDown","type","pageX","pageY","clearRect","setInactive","stage","isActive","elem","pickerElem","toggleActive","onchange","picker","setColor","nameField","localKeys","saveWrapper","keys","localStorage","saveOpener","handleShowSaveBox","saveClose","saveHandler","handleSave","loadHandler","handleLoad","handleInitialLoad","localStorageKey","getParameterByName","localforage","indexOf","getItem","catch","console","log","name","match","RegExp","search","decodeURIComponent","r","g","b","toString","trim","savedContent","columnCount","getImageData","data","hex","rgbToHex","slice","push","JSON","stringify","setItem","loadContent","parse","classname","getElementsByClassName","switchActiveSidebar","srcElement","currentlyActive","querySelector","remove","nodeName","parentElement","className","button","loadItemsInsert","handleLoaderToggle","closeLoader","setLocalKeys","generateLoadHtml","outputHtml","innerHTML","content","transform","options","hmr","insertInto","undefined","locals","cssWithMappingToString","item","useSourceMap","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","map","source","sourceRoot","concat","join","sourceMap","base64","unescape","encodeURIComponent","list","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","base","css","media","part","insertStyleElement","getElement","Error","lastStyleElementInsertedAtTop","stylesInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","createElement","attrs","addAttrs","createLinkElement","link","rel","el","forEach","setAttribute","update","singleton","styleIndex","singletonCounter","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","updateLink","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","fixUrls","blob","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","all","atob","getTarget","styleTarget","HTMLIFrameElement","contentDocument","head","e","newList","mayRemove","textStore","replacement","filter","Boolean","baseUrl","protocol","host","currentDir","fixedCss","fullMatch","origUrl","unquotedOrigUrl","o","$1","test","newUrl"],"mappings":"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","file":"js/application.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/built/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\tmodule.exports = __webpack_require__(7);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _stage = __webpack_require__(2);\n\t\n\tvar _stage2 = _interopRequireDefault(_stage);\n\t\n\tvar _colorpicker = __webpack_require__(3);\n\t\n\tvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\t\n\tvar _fileHandler = __webpack_require__(4);\n\t\n\tvar _fileHandler2 = _interopRequireDefault(_fileHandler);\n\t\n\tvar _sidebarHandler = __webpack_require__(5);\n\t\n\tvar _sidebarHandler2 = _interopRequireDefault(_sidebarHandler);\n\t\n\tvar _loadHandler = __webpack_require__(6);\n\t\n\tvar _loadHandler2 = _interopRequireDefault(_loadHandler);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//delay for domload so clientHeight returns correct value on canvas\n\t//TODO Find a better way - I hate this\n\tsetTimeout(function () {\n\t  //We only want to execute the stage setup on the editor page itself\n\t  if (window.location.pathname != \"/\" && !window.location.pathname.includes('index.html')) {\n\t    //setup the stage\n\t    var Stage = new _stage2.default();\n\t    Stage.init();\n\t\n\t    //setup the color picker\n\t    var colorpicker = window.AColorPicker.createPicker({\n\t      attachTo: '#colorpicker',\n\t      color: 'black'\n\t    });\n\t    var colorPickerModel = new _colorpicker2.default(colorpicker, Stage);\n\t    Stage.setColorPickerRef(colorPickerModel);\n\t    var fileHandler = new _fileHandler2.default(Stage);\n\t    var sidebar = new _sidebarHandler2.default(Stage);\n\t  } else {\n\t    var loadHandler = new _loadHandler2.default();\n\t  }\n\t}, 100);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t* Main Stage Class\n\t* Handles setting up and interaction with the Canvas elemet\n\t*/\n\tvar _class = function () {\n\t  function _class() {\n\t    _classCallCheck(this, _class);\n\t\n\t    this.fillColor = \"black\";\n\t    this.erase = false;\n\t\n\t    //The reference to the canvas element and context of it\n\t    //required for all drawing functionality so we'll define it here once\n\t    this.canvas;\n\t    this.ctx;\n\t\n\t    this.backgroundCanvas;\n\t    this.bgctx;\n\t\n\t    this.colorPicker = null; // Holds a reference to the colorpicker so we can call methods on it\n\t  }\n\t\n\t  /**\n\t  * Initializes the stage by creating it and binding events\n\t  * @return {void}\n\t  */\n\t\n\t\n\t  _createClass(_class, [{\n\t    key: \"init\",\n\t    value: function init() {\n\t      var _this = this;\n\t\n\t      var wrapper = document.getElementById(\"canvas-wrapper\");\n\t\n\t      //setup the background Canvas\n\t      this.backgroundCanvas = document.getElementById(\"background-canvas\");\n\t      this.backgroundCanvas.style.width = wrapper.clientWidth;\n\t      this.backgroundCanvas.style.height = wrapper.clientHeight;\n\t      this.backgroundCanvas.width = wrapper.clientWidth;\n\t      this.backgroundCanvas.height = wrapper.clientHeight;\n\t\n\t      this.canvas = document.getElementById(\"canvas\");\n\t      this.canvas.style.width = wrapper.clientWidth;\n\t      this.canvas.style.height = wrapper.clientHeight;\n\t      this.canvas.width = wrapper.clientWidth;\n\t      this.canvas.height = wrapper.clientHeight;\n\t\n\t      this.ctx = canvas.getContext(\"2d\");\n\t      this.bgctx = this.backgroundCanvas.getContext(\"2d\");\n\t\n\t      var promise = new Promise(function (resolve, reject) {\n\t        for (var x = 0; x < _this.canvas.width; x = x + 20) {\n\t          for (var y = 0; y < _this.canvas.height; y = y + 20) {\n\t            _this.bgctx.rect(x, y, 20, 20);\n\t            _this.bgctx.stroke();\n\t\n\t            // we need this so a downloaded image isn't all black\n\t            // we also override the fill style used above so we can paint right away\n\t            _this.ctx.fillStyle = \"white\";\n\t            _this.ctx.fillRect(x, y, 20, 20);\n\t          }\n\t        }\n\t        _this.bindEvents();\n\t        return resolve();\n\t      });\n\t\n\t      // Removes the loading screen on successful canvas render\n\t      promise.then(function (result) {\n\t        var loadWrapper = document.getElementById(\"loading-wrapper\");\n\t        loadWrapper.classList.toggle('removed');\n\t      });\n\t    }\n\t\n\t    /**\n\t    * Binds event handlers to the canvas - Should pass reference of current 'this' to function\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"bindEvents\",\n\t    value: function bindEvents() {\n\t      var _this2 = this;\n\t\n\t      this.canvas.addEventListener(\"click\", function () {\n\t        _this2.handleClick();\n\t      });\n\t\n\t      // Draw Events\n\t      // THESE Work for web based version\n\t      this.backgroundCanvas.addEventListener(\"mousedown\", this.handleMouseDown);\n\t      this.backgroundCanvas.addEventListener(\"mouseup\", this.handleMouseUp);\n\t      this.backgroundCanvas.addEventListener(\"mousemove\", function () {\n\t        _this2.handleDrag();\n\t      });\n\t\n\t      // Mobile devices have tocuh events\n\t      this.backgroundCanvas.addEventListener(\"touchstart\", this.handleMouseDown);\n\t      this.backgroundCanvas.addEventListener(\"touchend\", this.handleMouseUp);\n\t      this.backgroundCanvas.addEventListener(\"touchmove\", function () {\n\t        _this2.handleDrag();\n\t      });\n\t\n\t      //TOOL HANDLERS THAT ARE STAGE SPECIFIC GO HERE\n\t      var eraseHandler = document.getElementById(\"erase\");\n\t      eraseHandler.addEventListener(\"click\", function () {\n\t        _this2.toggleErase();\n\t      });\n\t      var pencilTool = document.getElementById(\"pencilTool\");\n\t      pencilTool.addEventListener(\"click\", function () {\n\t        _this2.activatePencil();\n\t      });\n\t\n\t      handleDownload.addEventListener(\"click\", function () {\n\t        _this2.downloadImage();\n\t      });\n\t    }\n\t\n\t    /**\n\t    * Handles creating and downloading an image to the users computer or device\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"downloadImage\",\n\t    value: function downloadImage() {\n\t      // This display the image on screen. Kept here in case we need it later\n\t      // window.location = this.canvas.toDataURL(\"image/png\");\n\t\n\t      // Attempts to call the cordova specific code to save the image to device, and if that fails\n\t      // downloads it like normal. Works for both mobile devices as well as browser\n\t      try {\n\t        // This uses canvas2image cordova plugin to save the Image\n\t        //Callbacks for image saving\n\t        var success = function success(msg) {\n\t          alert(msg);\n\t        };\n\t\n\t        var error = function error(err) {\n\t          alert(err);\n\t        };\n\t\n\t        var imageDataUrl = this.canvas.toDataURL('image/jpeg', 1.0);\n\t        var imageData = imageDataUrl.replace(/data:image\\/jpeg;base64,/, '');\n\t        cordova.exec(success, error, 'Canvas2ImagePlugin', 'saveImageDataToLibrary', [imageData]);\n\t      } catch (error) {\n\t        // Webcode here\n\t        //this converts it to a data uri\n\t        // TODO this saves the image as unknown without and extension which is annoying\n\t        // We need to find a way to change the name of it so it opens easier\n\t        var image = this.canvas.toDataURL('image/jpeg');\n\t        var prev = window.location.href;\n\t        window.location.href = image.replace(\"image/jpeg\", \"image/octet-stream\");\n\t      }\n\t    }\n\t  }, {\n\t    key: \"handleClick\",\n\t\n\t\n\t    /**\n\t    * Handles a single click on the Canvas\n\t    * Note: this also fires at the end of the drag event\n\t    * @return {void}\n\t    */\n\t    value: function handleClick() {\n\t      var rect = this.canvas.getBoundingClientRect();\n\t      var x = event.clientX - rect.left;\n\t      var y = event.clientY - rect.top;\n\t\n\t      x = x - x % 20;\n\t      y = y - y % 20;\n\t\n\t      if (this.erase === false) {\n\t        this.ctx.fillRect(x, y, 20, 20);\n\t      }\n\t    }\n\t\n\t    /**\n\t    * Toggles the mouse down state on the current stage class\n\t    * TODO define mousedown on the stage object\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"handleMouseDown\",\n\t    value: function handleMouseDown() {\n\t      event.preventDefault();\n\t      window.mouseDown = true;\n\t    }\n\t\n\t    /**\n\t    * Toggles the mouseup state on the current stage class\n\t    * TODO define mouseup on the stage object\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"handleMouseUp\",\n\t    value: function handleMouseUp() {\n\t      event.preventDefault();\n\t      window.mouseDown = false;\n\t    }\n\t\n\t    /**\n\t    * Handles dragging and coloring across the Canvas\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"handleDrag\",\n\t    value: function handleDrag() {\n\t      event.preventDefault();\n\t      if (window.mouseDown) {\n\t        var rect = this.canvas.getBoundingClientRect();\n\t        var x = void 0,\n\t            y = void 0;\n\t\n\t        // We need to get the position differently on mobile and web devices\n\t        if (event.type === \"mousemove\") {\n\t          x = event.clientX - rect.left;\n\t          y = event.clientY - rect.top;\n\t        } else {\n\t          x = event.pageX - rect.left;\n\t          y = event.pageY - rect.top;\n\t        }\n\t\n\t        x = x - x % 20;\n\t        y = y - y % 20;\n\t\n\t        if (this.erase === false) {\n\t          this.ctx.fillStyle = this.fillColor;\n\t          this.ctx.fillRect(x, y, 20, 20);\n\t        } else {\n\t          this.ctx.clearRect(x, y, 20, 20);\n\t        }\n\t      }\n\t    }\n\t\n\t    /**\n\t    * Toggles the erase state ON\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"toggleErase\",\n\t    value: function toggleErase() {\n\t      this.erase = true;\n\t      this.colorPicker.setInactive();\n\t    }\n\t\n\t    /**\n\t    * Toggles on the pencil which toggles off erase && colorpicker\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"activatePencil\",\n\t    value: function activatePencil() {\n\t      this.erase = false;\n\t      this.colorPicker.setInactive();\n\t    }\n\t\n\t    /**\n\t    * Takes a color and sets the fill color as it\n\t    * @param {string} color\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"setColor\",\n\t    value: function setColor(color) {\n\t      this.fillColor = color;\n\t      this.erase = false;\n\t    }\n\t\n\t    /**\n\t    * Sets a reference to the color picker\n\t    * @param {object} colorPicker\n\t    * @returns {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"setColorPickerRef\",\n\t    value: function setColorPickerRef(colorPicker) {\n\t      this.colorPicker = colorPicker;\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar _class = function () {\n\t\n\t  /**\n\t  * Colorpicker functionality wrapper\n\t  * @param {Colorpicker} object that has plugin functionality\n\t  * @param {Stage} stage - reference to current stage\n\t  * @return {void}\n\t  */\n\t  function _class(colorpicker, stage) {\n\t    _classCallCheck(this, _class);\n\t\n\t    this.isActive = false;\n\t    this.colorpicker = colorpicker;\n\t    this.stage = stage;\n\t    this.elem;\n\t    this.init();\n\t  }\n\t\n\t  /**\n\t  * Initializes the colorpicker by creating it and binding events\n\t  * @return {void}\n\t  */\n\t\n\t\n\t  _createClass(_class, [{\n\t    key: \"init\",\n\t    value: function init() {\n\t      var _this = this;\n\t\n\t      this.elem = document.getElementById(\"colorpicker\");\n\t      var pickerElem = document.getElementById(\"displayPicker\");\n\t      pickerElem.addEventListener(\"click\", function () {\n\t        _this.toggleActive();\n\t      });\n\t\n\t      this.colorpicker.onchange = function (picker) {\n\t        _this.stage.setColor(picker.color);\n\t      };\n\t    }\n\t\n\t    /**\n\t    * Turns the colorpicker off\n\t    * @return void\n\t    */\n\t\n\t  }, {\n\t    key: \"setInactive\",\n\t    value: function setInactive() {\n\t\n\t      if (this.isActive) {\n\t        this.elem.classList.toggle('active');\n\t        this.isActive = false;\n\t      }\n\t    }\n\t\n\t    /**\n\t    * Toggle the display of the color picker\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"toggleActive\",\n\t    value: function toggleActive() {\n\t      this.elem.classList.toggle('active');\n\t      if (this.isActive) {\n\t        this.isActive = false;\n\t      } else {\n\t        this.isActive = true;\n\t      }\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar _class = function () {\n\t  function _class(stage) {\n\t    _classCallCheck(this, _class);\n\t\n\t    this.stage = stage;\n\t    this.nameField;\n\t    this.localKeys;\n\t    this.saveWrapper;\n\t    this.init();\n\t  }\n\t\n\t  /**\n\t  * Initializes the file handler and binds events\n\t  * @return {void}\n\t  */\n\t\n\t\n\t  _createClass(_class, [{\n\t    key: \"init\",\n\t    value: function init() {\n\t      var _this = this;\n\t\n\t      this.localKeys = Object.keys(localStorage);\n\t\n\t      var saveOpener = document.getElementById(\"saveOpener\");\n\t      saveOpener.addEventListener(\"click\", function () {\n\t        _this.handleShowSaveBox();\n\t      });\n\t\n\t      var saveClose = document.getElementById(\"close-save-wrapper\");\n\t      saveClose.addEventListener(\"click\", function () {\n\t        _this.handleShowSaveBox();\n\t      });\n\t\n\t      var saveHandler = document.getElementById(\"save\");\n\t      saveHandler.addEventListener(\"click\", function () {\n\t        _this.handleSave();\n\t      });\n\t\n\t      var loadHandler = document.getElementById(\"load\");\n\t      loadHandler.addEventListener(\"click\", function () {\n\t        _this.handleLoad();\n\t      });\n\t\n\t      this.saveWrapper = document.getElementById(\"save-popup-wrapper\");\n\t      this.nameField = document.getElementById(\"filename\");\n\t      this.handleInitialLoad();\n\t    }\n\t\n\t    /**\n\t    * Handles the initial load from the home screen by examining the query string\n\t    * If a load value is set it will attempt to load it to the page\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"handleInitialLoad\",\n\t    value: function handleInitialLoad() {\n\t      var _this2 = this;\n\t\n\t      var localStorageKey = this.getParameterByName('load');\n\t\n\t      //index of returns -1 on a not found\n\t\n\t      this.localKeys = localforage.keys().then(function (keys) {\n\t        if (keys.indexOf(localStorageKey != -1) && localStorageKey != null) {\n\t          _this2.localKeys = localforage.getItem(localStorageKey).then(function (value) {\n\t            _this2.handleLoad(value);\n\t          }).catch(function (err) {\n\t            console.log('Error Loading JSON');\n\t          });\n\t        }\n\t      }).catch(function (err) {\n\t        console.log('Error Getting Keys');\n\t      });\n\t\n\t      // if(this.localKeys.indexOf(localStorageKey != -1) && localStorageKey != null) {\n\t      //   // this.handleLoad(localStorage.getItem(localStorageKey));\n\t      // }\n\t    }\n\t\n\t    /**\n\t    * Handles the hide and show of the save box\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"handleShowSaveBox\",\n\t    value: function handleShowSaveBox() {\n\t      this.saveWrapper.classList.toggle('active');\n\t    }\n\t\n\t    /**\n\t    * Returns the value for the key passed in for the current urls query string\n\t    * @param {string} name\n\t    * @return {string}\n\t    */\n\t\n\t  }, {\n\t    key: \"getParameterByName\",\n\t    value: function getParameterByName(name) {\n\t      var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n\t      return match && decodeURIComponent(match[1].replace(/\\+/g, ' '));\n\t    }\n\t\n\t    /**\n\t    * Converts the RGB code to human readable format\n\t    * @param {string} r - red value\n\t    * @param {string} g - green value\n\t    * @param {string} b - blue value\n\t    * @return {string} - hex string representing a color i.e #fffff\n\t    */\n\t\n\t  }, {\n\t    key: \"rgbToHex\",\n\t    value: function rgbToHex(r, g, b) {\n\t      if (r > 255 || g > 255 || b > 255) throw \"Invalid color component\";\n\t      return (r << 16 | g << 8 | b).toString(16);\n\t    }\n\t\n\t    /**\n\t    * Saves the current stage state as json encoded array to the file system\n\t    * @return {void} - But side effect of a new file\n\t    */\n\t\n\t  }, {\n\t    key: \"handleSave\",\n\t    value: function handleSave() {\n\t\n\t      var name = this.nameField.value;\n\t\n\t      if (name.trim() == '') {\n\t        alert(\"Name cannot be blank\");\n\t        return;\n\t      }\n\t\n\t      var savedContent = [];\n\t      var columnCount = 0;\n\t      for (var y = 5; y < this.stage.canvas.height; y = y + 20) {\n\t        savedContent[columnCount] = [];\n\t        for (var x = 5; x < this.stage.canvas.width; x = x + 20) {\n\t          var p = this.stage.ctx.getImageData(x, y, 1, 1).data;\n\t          var hex = void 0;\n\t\n\t          //This handles the pure black code which will return #0 and fail in this setup\n\t          if (p[0] == 0 && p[1] == 0 && p[2] == 0 && p[3] == 255) {\n\t            hex = \"#000000\";\n\t          } else {\n\t            hex = \"#\" + this.rgbToHex(p[0], p[1], p[2]).slice(-6);\n\t          }\n\t          //if it's blank we change it to white to display later\n\t          //TODO if we go to a checked BG this needs to change\n\t          if (hex == \"#0\") {\n\t            hex = \"#ffffff\";\n\t          }\n\t          savedContent[columnCount].push(hex);\n\t        }\n\t        columnCount++;\n\t      }\n\t      savedContent = JSON.stringify(savedContent);\n\t\n\t      // localStorage.setItem(name, savedContent);\n\t      window.localforage.setItem(name, savedContent);\n\t      //TODO create better alert functionality\n\t      alert(\"Image Saved!\");\n\t      this.saveWrapper.classList.toggle('active');\n\t    }\n\t\n\t    /**\n\t    * Loads a json encoded string, parses it, and then outputs it to the screen\n\t    * @param {jsonstring} a json encoded string that contains the paiting data\n\t    * NOTE: this must be JSON or the attempt to parse it will fail\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"handleLoad\",\n\t    value: function handleLoad(loadContent) {\n\t      loadContent = JSON.parse(loadContent);\n\t      for (var y = 0; y < loadContent.length; y++) {\n\t        for (var x = 0; x < loadContent[y].length; x++) {\n\t          this.stage.ctx.fillStyle = loadContent[y][x];\n\t          this.stage.ctx.fillRect(x * 20, y * 20, 20, 20);\n\t          this.stage.bgctx.stroke();\n\t        }\n\t      }\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// Class for handling sidebar clicks and active states\n\tvar _class = function () {\n\t  function _class(stage) {\n\t    _classCallCheck(this, _class);\n\t\n\t    this.stage = stage;\n\t    this.init();\n\t  }\n\t\n\t  /**\n\t  * Initilzies and binds events\n\t  * @return {void}\n\t  */\n\t\n\t\n\t  _createClass(_class, [{\n\t    key: \"init\",\n\t    value: function init() {\n\t      var _this = this;\n\t\n\t      var classname = document.getElementsByClassName(\"sidebar-item\");\n\t      for (var i = 0; i < classname.length; i++) {\n\t        classname[i].addEventListener('click', function (event) {\n\t          _this.switchActiveSidebar(event.srcElement);\n\t        });\n\t      }\n\t    }\n\t\n\t    /**\n\t    * Sets the active class on sidebar items\n\t    * @param {String} elem that was clicked\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"switchActiveSidebar\",\n\t    value: function switchActiveSidebar(elem) {\n\t\n\t      var promise = new Promise(function (resolve, reject) {\n\t        var currentlyActive = document.querySelector(\".sidebar-item.active\");\n\t        currentlyActive.classList.remove(\"active\");\n\t        return resolve(\"Stuff worked!\");\n\t      });\n\t\n\t      promise.then(function (result) {\n\t\n\t        //Grab the parent as clicks on I won't get active correclty\n\t        if (elem.nodeName === \"I\") {\n\t          elem = elem.parentElement;\n\t        }\n\t        elem.className += \" active\";\n\t      });\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar _class = function () {\n\t  function _class() {\n\t    _classCallCheck(this, _class);\n\t\n\t    this.button;\n\t    this.elem;\n\t    this.localKeys;\n\t    this.loadItemsInsert;\n\t    this.init();\n\t  }\n\t\n\t  /**\n\t  * Initializes by creating it and binding events\n\t  * @return {void}\n\t  */\n\t\n\t\n\t  _createClass(_class, [{\n\t    key: \"init\",\n\t    value: function init() {\n\t      var _this = this;\n\t\n\t      this.elem = document.getElementById(\"loader\");\n\t      this.loadItemsInsert = document.getElementById(\"loaded-items-insert\");\n\t\n\t      this.button = document.getElementById(\"load-button\");\n\t      this.button.addEventListener('click', function (event) {\n\t        _this.handleLoaderToggle();\n\t      });\n\t\n\t      var closeLoader = document.getElementById(\"close-load-wrapper\");\n\t      closeLoader.addEventListener('click', function (event) {\n\t        _this.handleLoaderToggle();\n\t      });\n\t\n\t      this.setLocalKeys();\n\t    }\n\t\n\t    /**\n\t    * Gets the keys of the localstorage objects and binds them to the object\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"setLocalKeys\",\n\t    value: function setLocalKeys() {\n\t      var _this2 = this;\n\t\n\t      // this.localKeys = Object.keys(localStorage);\n\t      // console.log(localforage.keys());\n\t      this.localKeys = localforage.keys().then(function (keys) {\n\t        _this2.generateLoadHtml(keys);\n\t      }).catch(function (err) {\n\t        console.log('Error Getting Keys');\n\t      });\n\t    }\n\t\n\t    /**\n\t    * Generates HTML to allow the loading of saved images\n\t    * @param {array} keys\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"generateLoadHtml\",\n\t    value: function generateLoadHtml(keys) {\n\t      console.log(\"HTML generated\");\n\t      var outputHtml = \"\";\n\t      for (var x = 0; x < keys.length; x++) {\n\t        outputHtml += \"<div><h2><a href='editor.html?load=\" + keys[x] + \"'>\" + keys[x] + \"</a></h2></div>\";\n\t      }\n\t\n\t      this.loadItemsInsert.innerHTML = outputHtml;\n\t    }\n\t\n\t    /**\n\t    * Handles display of the load overlay\n\t    * @return {void}\n\t    */\n\t\n\t  }, {\n\t    key: \"handleLoaderToggle\",\n\t    value: function handleLoaderToggle() {\n\t      console.log(\"Load Button Clicked\");\n\t      this.elem.classList.toggle('active');\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\tvar content = __webpack_require__(8);\n\t\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t\n\tvar transform;\n\tvar insertInto;\n\t\n\t\n\t\n\tvar options = {\"hmr\":true}\n\t\n\toptions.transform = transform\n\toptions.insertInto = undefined;\n\t\n\tvar update = __webpack_require__(10)(content, options);\n\t\n\tif(content.locals) module.exports = content.locals;\n\t\n\tif(false) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\t\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\n\t\t\tvar locals = (function(a, b) {\n\t\t\t\tvar key, idx = 0;\n\t\n\t\t\t\tfor(key in a) {\n\t\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\t\tidx++;\n\t\t\t\t}\n\t\n\t\t\t\tfor(key in b) idx--;\n\t\n\t\t\t\treturn idx === 0;\n\t\t\t}(content.locals, newContent.locals));\n\t\n\t\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\t\n\t\t\tupdate(newContent);\n\t\t});\n\t\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(9)(false);\n\t// imports\n\texports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Gloria+Hallelujah);\", \"\"]);\n\texports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Patrick+Hand);\", \"\"]);\n\t\n\t// module\n\texports.push([module.id, \"body{font-family:Gloria Hallelujah,cursive;font-family:Patrick Hand,cursive}.stage-wrapper,body,html{margin:0;padding:0;width:100%;height:100vh;overflow-y:hidden;font-size:16px}.stage-wrapper{display:flex}#background-canvas{position:absolute;top:0;left:0;z-index:3}.options-wrapper{width:50px;height:100%;background:#150832;color:#fff}.options-wrapper ul{padding:0;margin:0;list-style:none}.options-wrapper ul li{width:100%;text-align:center;padding:10px 0;border-bottom:1px solid #3c2473;transition:all .5s;cursor:pointer}.options-wrapper ul li:hover{background:#3c2473}.options-wrapper ul li.active{background:#623179}.canvas-wrapper{width:calc(100% - 50px);height:100%}#colorpicker{position:absolute;display:none}#colorpicker.active{display:block;z-index:5}.home-wrapper{font-size:1.5rem;background:#150832;height:100vh;width:100%;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.home-wrapper button{background:#3c2473;border:1px solid #623179;color:#fff;padding:10px 20px;cursor:pointer;transition:all .5s;font-size:1.25rem;width:150px;margin:5px}.home-wrapper button:active,.home-wrapper button:hover{background:#150832}.home-wrapper h1,.home-wrapper h2,.home-wrapper h3,.home-wrapper h4{margin:0;padding:0}.home-wrapper .text-wrapper{text-align:center;margin-bottom:55px}.home-wrapper .load-wrapper{position:absolute;left:0;top:-1000px;opacity:0;width:100%;height:100%;z-index:2;transition:opacity .5s,top 3s .1s;background:hsla(0,0%,100%,.55);flex-direction:column;align-items:center;justify-content:center;display:flex}.home-wrapper .load-wrapper.active{top:0;opacity:1;transition:opacity .5s}.home-wrapper .load-wrapper .load-container{background:#3c2473;width:90%;max-width:600px;height:75%;padding:5px}.home-wrapper .load-wrapper .load-container h2{border-bottom:1px solid #623179;padding-bottom:10px}.home-wrapper .load-wrapper a{color:#fff;text-decoration:none}.home-wrapper .load-wrapper #close-load-wrapper{text-align:right;padding:10px;font-size:1.25rem;cursor:pointer}#editor #save-popup-wrapper{position:absolute;top:-500px;left:0;transition:all .5s;background:#150832;color:#fff;width:100%;z-index:5}#editor #save-popup-wrapper.active{top:0}#editor #save-popup-wrapper .save-pop-up-wrapper-inner{max-width:620px;margin:0 auto;padding:0 10px;padding-bottom:25px}#editor #save-popup-wrapper .save-pop-up-wrapper-inner input{width:50%;border:2px solid #623179;padding:10px;background:none;color:#fff}#editor #save-popup-wrapper .save-pop-up-wrapper-inner button{background:#150832;border:1px solid #623179;color:#fff;padding:8px 10px;cursor:pointer;transition:all .5s;font-size:1rem;width:150px;margin:5px}#editor #save-popup-wrapper .save-pop-up-wrapper-inner button:active,#editor #save-popup-wrapper .save-pop-up-wrapper-inner button:hover{background:#3c2473}#editor #save-popup-wrapper .save-pop-up-wrapper-inner #close-save-wrapper{text-align:right;padding:10px;font-size:1.25rem;cursor:pointer}#loading-wrapper{position:absolute;top:0;left:0;background:#fff;width:100%;height:100vh;display:flex;justify-content:center;flex-direction:column;text-align:center}#loading-wrapper.removed{display:none}#loading-wrapper .fa-spinner{font-size:4rem;-webkit-animation:rotating 2s linear infinite;-moz-animation:rotating 2s linear infinite;-ms-animation:rotating 2s linear infinite;-o-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}@keyframes rotating{0%{-ms-transform:rotate(0deg);-moz-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-ms-transform:rotate(1turn);-moz-transform:rotate(1turn);-webkit-transform:rotate(1turn);-o-transform:rotate(1turn);transform:rotate(1turn)}}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t/*\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\n\t\tAuthor Tobias Koppers @sokra\n\t*/\n\t// css base code, injected by the css-loader\n\tmodule.exports = function(useSourceMap) {\n\t\tvar list = [];\n\t\n\t\t// return the list of modules as css string\n\t\tlist.toString = function toString() {\n\t\t\treturn this.map(function (item) {\n\t\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\t\tif(item[2]) {\n\t\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t\t} else {\n\t\t\t\t\treturn content;\n\t\t\t\t}\n\t\t\t}).join(\"\");\n\t\t};\n\t\n\t\t// import a list of modules into the list\n\t\tlist.i = function(modules, mediaQuery) {\n\t\t\tif(typeof modules === \"string\")\n\t\t\t\tmodules = [[null, modules, \"\"]];\n\t\t\tvar alreadyImportedModules = {};\n\t\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\t\tvar id = this[i][0];\n\t\t\t\tif(typeof id === \"number\")\n\t\t\t\t\talreadyImportedModules[id] = true;\n\t\t\t}\n\t\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\t\tvar item = modules[i];\n\t\t\t\t// skip already imported module\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn list;\n\t};\n\t\n\tfunction cssWithMappingToString(item, useSourceMap) {\n\t\tvar content = item[1] || '';\n\t\tvar cssMapping = item[3];\n\t\tif (!cssMapping) {\n\t\t\treturn content;\n\t\t}\n\t\n\t\tif (useSourceMap && typeof btoa === 'function') {\n\t\t\tvar sourceMapping = toComment(cssMapping);\n\t\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t\t});\n\t\n\t\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t\t}\n\t\n\t\treturn [content].join('\\n');\n\t}\n\t\n\t// Adapted from convert-source-map (MIT)\n\tfunction toComment(sourceMap) {\n\t\t// eslint-disable-next-line no-undef\n\t\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\t\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\t\n\t\treturn '/*# ' + data + ' */';\n\t}\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/*\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\n\t\tAuthor Tobias Koppers @sokra\n\t*/\n\t\n\tvar stylesInDom = {};\n\t\n\tvar\tmemoize = function (fn) {\n\t\tvar memo;\n\t\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t};\n\t\n\tvar isOldIE = memoize(function () {\n\t\t// Test for IE <= 9 as proposed by Browserhacks\n\t\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t\t// Tests for existence of standard globals is to allow style-loader\n\t\t// to operate correctly into non-standard environments\n\t\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\t\treturn window && document && document.all && !window.atob;\n\t});\n\t\n\tvar getTarget = function (target) {\n\t  return document.querySelector(target);\n\t};\n\t\n\tvar getElement = (function (fn) {\n\t\tvar memo = {};\n\t\n\t\treturn function(target) {\n\t                // If passing function in options, then use it for resolve \"head\" element.\n\t                // Useful for Shadow Root style i.e\n\t                // {\n\t                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n\t                // }\n\t                if (typeof target === 'function') {\n\t                        return target();\n\t                }\n\t                if (typeof memo[target] === \"undefined\") {\n\t\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tstyleTarget = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmemo[target] = styleTarget;\n\t\t\t}\n\t\t\treturn memo[target]\n\t\t};\n\t})();\n\t\n\tvar singleton = null;\n\tvar\tsingletonCounter = 0;\n\tvar\tstylesInsertedAtTop = [];\n\t\n\tvar\tfixUrls = __webpack_require__(11);\n\t\n\tmodule.exports = function(list, options) {\n\t\tif (false) {\n\t\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t\t}\n\t\n\t\toptions = options || {};\n\t\n\t\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\t\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t\t// tags it will allow on a page\n\t\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\t\n\t\t// By default, add <style> tags to the <head> element\n\t        if (!options.insertInto) options.insertInto = \"head\";\n\t\n\t\t// By default, add <style> tags to the bottom of the target\n\t\tif (!options.insertAt) options.insertAt = \"bottom\";\n\t\n\t\tvar styles = listToStyles(list, options);\n\t\n\t\taddStylesToDom(styles, options);\n\t\n\t\treturn function update (newList) {\n\t\t\tvar mayRemove = [];\n\t\n\t\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\t\tvar item = styles[i];\n\t\t\t\tvar domStyle = stylesInDom[item.id];\n\t\n\t\t\t\tdomStyle.refs--;\n\t\t\t\tmayRemove.push(domStyle);\n\t\t\t}\n\t\n\t\t\tif(newList) {\n\t\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\t\taddStylesToDom(newStyles, options);\n\t\t\t}\n\t\n\t\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\t\tvar domStyle = mayRemove[i];\n\t\n\t\t\t\tif(domStyle.refs === 0) {\n\t\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\t\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\t\n\tfunction addStylesToDom (styles, options) {\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\n\t\t\tif(domStyle) {\n\t\t\t\tdomStyle.refs++;\n\t\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t\t}\n\t\n\t\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar parts = [];\n\t\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t\t}\n\t\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction listToStyles (list, options) {\n\t\tvar styles = [];\n\t\tvar newStyles = {};\n\t\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tvar item = list[i];\n\t\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\t\tvar css = item[1];\n\t\t\tvar media = item[2];\n\t\t\tvar sourceMap = item[3];\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\n\t\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\t\telse newStyles[id].parts.push(part);\n\t\t}\n\t\n\t\treturn styles;\n\t}\n\t\n\tfunction insertStyleElement (options, style) {\n\t\tvar target = getElement(options.insertInto)\n\t\n\t\tif (!target) {\n\t\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t\t}\n\t\n\t\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\t\n\t\tif (options.insertAt === \"top\") {\n\t\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t\t} else {\n\t\t\t\ttarget.appendChild(style);\n\t\t\t}\n\t\t\tstylesInsertedAtTop.push(style);\n\t\t} else if (options.insertAt === \"bottom\") {\n\t\t\ttarget.appendChild(style);\n\t\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\t\ttarget.insertBefore(style, nextSibling);\n\t\t} else {\n\t\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t\t}\n\t}\n\t\n\tfunction removeStyleElement (style) {\n\t\tif (style.parentNode === null) return false;\n\t\tstyle.parentNode.removeChild(style);\n\t\n\t\tvar idx = stylesInsertedAtTop.indexOf(style);\n\t\tif(idx >= 0) {\n\t\t\tstylesInsertedAtTop.splice(idx, 1);\n\t\t}\n\t}\n\t\n\tfunction createStyleElement (options) {\n\t\tvar style = document.createElement(\"style\");\n\t\n\t\tif(options.attrs.type === undefined) {\n\t\t\toptions.attrs.type = \"text/css\";\n\t\t}\n\t\n\t\taddAttrs(style, options.attrs);\n\t\tinsertStyleElement(options, style);\n\t\n\t\treturn style;\n\t}\n\t\n\tfunction createLinkElement (options) {\n\t\tvar link = document.createElement(\"link\");\n\t\n\t\tif(options.attrs.type === undefined) {\n\t\t\toptions.attrs.type = \"text/css\";\n\t\t}\n\t\toptions.attrs.rel = \"stylesheet\";\n\t\n\t\taddAttrs(link, options.attrs);\n\t\tinsertStyleElement(options, link);\n\t\n\t\treturn link;\n\t}\n\t\n\tfunction addAttrs (el, attrs) {\n\t\tObject.keys(attrs).forEach(function (key) {\n\t\t\tel.setAttribute(key, attrs[key]);\n\t\t});\n\t}\n\t\n\tfunction addStyle (obj, options) {\n\t\tvar style, update, remove, result;\n\t\n\t\t// If a transform function was defined, run it on the css\n\t\tif (options.transform && obj.css) {\n\t\t    result = options.transform(obj.css);\n\t\n\t\t    if (result) {\n\t\t    \t// If transform returns a value, use that instead of the original css.\n\t\t    \t// This allows running runtime transformations on the css.\n\t\t    \tobj.css = result;\n\t\t    } else {\n\t\t    \t// If the transform function returns a falsy value, don't add this css.\n\t\t    \t// This allows conditional loading of css\n\t\t    \treturn function() {\n\t\t    \t\t// noop\n\t\t    \t};\n\t\t    }\n\t\t}\n\t\n\t\tif (options.singleton) {\n\t\t\tvar styleIndex = singletonCounter++;\n\t\n\t\t\tstyle = singleton || (singleton = createStyleElement(options));\n\t\n\t\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\t\n\t\t} else if (\n\t\t\tobj.sourceMap &&\n\t\t\ttypeof URL === \"function\" &&\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\t\ttypeof Blob === \"function\" &&\n\t\t\ttypeof btoa === \"function\"\n\t\t) {\n\t\t\tstyle = createLinkElement(options);\n\t\t\tupdate = updateLink.bind(null, style, options);\n\t\t\tremove = function () {\n\t\t\t\tremoveStyleElement(style);\n\t\n\t\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t\t};\n\t\t} else {\n\t\t\tstyle = createStyleElement(options);\n\t\t\tupdate = applyToTag.bind(null, style);\n\t\t\tremove = function () {\n\t\t\t\tremoveStyleElement(style);\n\t\t\t};\n\t\t}\n\t\n\t\tupdate(obj);\n\t\n\t\treturn function updateStyle (newObj) {\n\t\t\tif (newObj) {\n\t\t\t\tif (\n\t\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tupdate(obj = newObj);\n\t\t\t} else {\n\t\t\t\tremove();\n\t\t\t}\n\t\t};\n\t}\n\t\n\tvar replaceText = (function () {\n\t\tvar textStore = [];\n\t\n\t\treturn function (index, replacement) {\n\t\t\ttextStore[index] = replacement;\n\t\n\t\t\treturn textStore.filter(Boolean).join('\\n');\n\t\t};\n\t})();\n\t\n\tfunction applyToSingletonTag (style, index, remove, obj) {\n\t\tvar css = remove ? \"\" : obj.css;\n\t\n\t\tif (style.styleSheet) {\n\t\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t\t} else {\n\t\t\tvar cssNode = document.createTextNode(css);\n\t\t\tvar childNodes = style.childNodes;\n\t\n\t\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\t\n\t\t\tif (childNodes.length) {\n\t\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t\t} else {\n\t\t\t\tstyle.appendChild(cssNode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction applyToTag (style, obj) {\n\t\tvar css = obj.css;\n\t\tvar media = obj.media;\n\t\n\t\tif(media) {\n\t\t\tstyle.setAttribute(\"media\", media)\n\t\t}\n\t\n\t\tif(style.styleSheet) {\n\t\t\tstyle.styleSheet.cssText = css;\n\t\t} else {\n\t\t\twhile(style.firstChild) {\n\t\t\t\tstyle.removeChild(style.firstChild);\n\t\t\t}\n\t\n\t\t\tstyle.appendChild(document.createTextNode(css));\n\t\t}\n\t}\n\t\n\tfunction updateLink (link, options, obj) {\n\t\tvar css = obj.css;\n\t\tvar sourceMap = obj.sourceMap;\n\t\n\t\t/*\n\t\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\t\tdirectly\n\t\t*/\n\t\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\t\n\t\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\t\tcss = fixUrls(css);\n\t\t}\n\t\n\t\tif (sourceMap) {\n\t\t\t// http://stackoverflow.com/a/26603875\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t\t}\n\t\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\n\t\n\t\tvar oldSrc = link.href;\n\t\n\t\tlink.href = URL.createObjectURL(blob);\n\t\n\t\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n\t}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\t\n\t/**\n\t * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n\t * embed the css on the page. This breaks all relative urls because now they are relative to a\n\t * bundle instead of the current page.\n\t *\n\t * One solution is to only use full urls, but that may be impossible.\n\t *\n\t * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n\t *\n\t * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n\t *\n\t */\n\t\n\tmodule.exports = function (css) {\n\t  // get current location\n\t  var location = typeof window !== \"undefined\" && window.location;\n\t\n\t  if (!location) {\n\t    throw new Error(\"fixUrls requires window.location\");\n\t  }\n\t\n\t\t// blank or null?\n\t\tif (!css || typeof css !== \"string\") {\n\t\t  return css;\n\t  }\n\t\n\t  var baseUrl = location.protocol + \"//\" + location.host;\n\t  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\t\n\t\t// convert each url(...)\n\t\t/*\n\t\tThis regular expression is just a way to recursively match brackets within\n\t\ta string.\n\t\n\t\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t\t   (  = Start a capturing group\n\t\t     (?:  = Start a non-capturing group\n\t\t         [^)(]  = Match anything that isn't a parentheses\n\t\t         |  = OR\n\t\t         \\(  = Match a start parentheses\n\t\t             (?:  = Start another non-capturing groups\n\t\t                 [^)(]+  = Match anything that isn't a parentheses\n\t\t                 |  = OR\n\t\t                 \\(  = Match a start parentheses\n\t\t                     [^)(]*  = Match anything that isn't a parentheses\n\t\t                 \\)  = Match a end parentheses\n\t\t             )  = End Group\n\t              *\\) = Match anything and then a close parens\n\t          )  = Close non-capturing group\n\t          *  = Match anything\n\t       )  = Close capturing group\n\t\t \\)  = Match a close parens\n\t\n\t\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t\t */\n\t\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t\t// strip quotes (if they exist)\n\t\t\tvar unquotedOrigUrl = origUrl\n\t\t\t\t.trim()\n\t\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\t\n\t\t\t// already a full url? no change\n\t\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t\t  return fullMatch;\n\t\t\t}\n\t\n\t\t\t// convert the url to a full url\n\t\t\tvar newUrl;\n\t\n\t\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t\t  \t//TODO: should we add protocol?\n\t\t\t\tnewUrl = unquotedOrigUrl;\n\t\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t\t// path should be relative to the base url\n\t\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t\t} else {\n\t\t\t\t// path should be relative to current directory\n\t\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t\t}\n\t\n\t\t\t// send back the fixed url(...)\n\t\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t\t});\n\t\n\t\t// send back the fixed css\n\t\treturn fixedCss;\n\t};\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/application.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/built/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 16a4f1eed840879c88d1","'use strict';\nimport StageInit from './stage';\nimport ColorPicker from './colorpicker';\nimport FileHandler from './fileHandler';\nimport SidebarHandler from './sidebarHandler';\n\nimport LoadHandler from './loadHandler';\n\n//delay for domload so clientHeight returns correct value on canvas\n//TODO Find a better way - I hate this\nsetTimeout(function(){\n  //We only want to execute the stage setup on the editor page itself\n  if( window.location.pathname != \"/\" && !window.location.pathname.includes('index.html')) {\n        //setup the stage\n        let Stage = new StageInit;\n        Stage.init();\n\n        //setup the color picker\n        const colorpicker = window.AColorPicker.createPicker({\n        \tattachTo: '#colorpicker',\n        \tcolor: 'black'\n        });\n        let colorPickerModel = new ColorPicker(colorpicker, Stage);\n        Stage.setColorPickerRef(colorPickerModel);\n        let fileHandler = new FileHandler(Stage);\n        let sidebar = new SidebarHandler(Stage);\n\n  } else {\n    let loadHandler = new LoadHandler;\n  }\n}, 100);\n\n\n\n// WEBPACK FOOTER //\n// ./src/application.js","/**\n* Main Stage Class\n* Handles setting up and interaction with the Canvas elemet\n*/\nexport default class {\n\n    constructor() {\n      this.fillColor = \"black\";\n      this.erase = false;\n\n      //The reference to the canvas element and context of it\n      //required for all drawing functionality so we'll define it here once\n      this.canvas;\n      this.ctx;\n\n      this.backgroundCanvas;\n      this.bgctx;\n\n      this.colorPicker = null; // Holds a reference to the colorpicker so we can call methods on it\n    }\n\n    /**\n    * Initializes the stage by creating it and binding events\n    * @return {void}\n    */\n    init() {\n      const wrapper = document.getElementById(\"canvas-wrapper\");\n\n      //setup the background Canvas\n      this.backgroundCanvas = document.getElementById(\"background-canvas\");\n      this.backgroundCanvas.style.width = wrapper.clientWidth;\n      this.backgroundCanvas.style.height = wrapper.clientHeight;\n      this.backgroundCanvas.width = wrapper.clientWidth;\n      this.backgroundCanvas.height = wrapper.clientHeight;\n\n\n      this.canvas = document.getElementById(\"canvas\");\n      this.canvas.style.width = wrapper.clientWidth;\n      this.canvas.style.height = wrapper.clientHeight;\n      this.canvas.width = wrapper.clientWidth;\n      this.canvas.height = wrapper.clientHeight;\n\n\n\n      this.ctx = canvas.getContext(\"2d\");\n      this.bgctx = this.backgroundCanvas.getContext(\"2d\");\n\n      let promise = new Promise((resolve, reject) => {\n        for(var x = 0; x < this.canvas.width; x = x + 20) {\n          for(var y = 0; y < this.canvas.height; y = y + 20) {\n            this.bgctx.rect(x,y,20,20);\n            this.bgctx.stroke();\n\n            // we need this so a downloaded image isn't all black\n            // we also override the fill style used above so we can paint right away\n            this.ctx.fillStyle = \"white\";\n            this.ctx.fillRect(x,y,20,20);\n          }\n        }\n        this.bindEvents();\n        return resolve();\n      });\n\n      // Removes the loading screen on successful canvas render\n      promise.then(result => {\n        let loadWrapper = document.getElementById(\"loading-wrapper\");\n        loadWrapper.classList.toggle('removed')\n      })\n    }\n\n\n    /**\n    * Binds event handlers to the canvas - Should pass reference of current 'this' to function\n    * @return {void}\n    */\n    bindEvents() {\n\n      this.canvas.addEventListener(\"click\", () => {\n        this.handleClick();\n      });\n\n      // Draw Events\n      // THESE Work for web based version\n      this.backgroundCanvas.addEventListener(\"mousedown\", this.handleMouseDown);\n      this.backgroundCanvas.addEventListener(\"mouseup\", this.handleMouseUp);\n      this.backgroundCanvas.addEventListener(\"mousemove\", () => {\n        this.handleDrag();\n      });\n\n      // Mobile devices have tocuh events\n      this.backgroundCanvas.addEventListener(\"touchstart\", this.handleMouseDown);\n      this.backgroundCanvas.addEventListener(\"touchend\", this.handleMouseUp);\n      this.backgroundCanvas.addEventListener(\"touchmove\", () => {\n        this.handleDrag();\n      });\n\n\n      //TOOL HANDLERS THAT ARE STAGE SPECIFIC GO HERE\n      let eraseHandler = document.getElementById(\"erase\");\n      eraseHandler.addEventListener(\"click\", () => {\n        this.toggleErase();\n      });\n      let pencilTool = document.getElementById(\"pencilTool\");\n      pencilTool.addEventListener(\"click\", () => {\n        this.activatePencil();\n      });\n\n      handleDownload.addEventListener(\"click\", () => {\n        this.downloadImage();\n      });\n\n    }\n\n\n\n    /**\n    * Handles creating and downloading an image to the users computer or device\n    * @return {void}\n    */\n    downloadImage() {\n      // This display the image on screen. Kept here in case we need it later\n      // window.location = this.canvas.toDataURL(\"image/png\");\n\n      // Attempts to call the cordova specific code to save the image to device, and if that fails\n      // downloads it like normal. Works for both mobile devices as well as browser\n      try {\n        // This uses canvas2image cordova plugin to save the Image\n        //Callbacks for image saving\n        let success = function(msg){\n            alert(msg);\n        };\n\n        let error = function(err){\n            alert(err);\n        };\n\n        let imageDataUrl = this.canvas.toDataURL('image/jpeg', 1.0);\n        let imageData = imageDataUrl.replace(/data:image\\/jpeg;base64,/, '');\n        cordova.exec(\n          success,\n          error,\n          'Canvas2ImagePlugin',\n          'saveImageDataToLibrary',\n          [imageData]\n        );\n      } catch (error) {\n        // Webcode here\n        //this converts it to a data uri\n        // TODO this saves the image as unknown without and extension which is annoying\n        // We need to find a way to change the name of it so it opens easier\n        let image = this.canvas.toDataURL('image/jpeg');\n        let prev = window.location.href;\n        window.location.href = image.replace(\"image/jpeg\", \"image/octet-stream\");\n      }\n    };\n\n\n    /**\n    * Handles a single click on the Canvas\n    * Note: this also fires at the end of the drag event\n    * @return {void}\n    */\n    handleClick() {\n      var rect = this.canvas.getBoundingClientRect();\n      var x = event.clientX - rect.left;\n      var y = event.clientY - rect.top;\n\n      x = x - (x % 20);\n      y = y - (y % 20);\n\n      if(this.erase === false) {\n        this.ctx.fillRect(x,y,20,20);\n      }\n    }\n\n\n    /**\n    * Toggles the mouse down state on the current stage class\n    * TODO define mousedown on the stage object\n    * @return {void}\n    */\n    handleMouseDown() {\n      event.preventDefault();\n      window.mouseDown = true;\n    }\n\n    /**\n    * Toggles the mouseup state on the current stage class\n    * TODO define mouseup on the stage object\n    * @return {void}\n    */\n    handleMouseUp() {\n      event.preventDefault();\n      window.mouseDown = false;\n    }\n\n\n    /**\n    * Handles dragging and coloring across the Canvas\n    * @return {void}\n    */\n    handleDrag() {\n      event.preventDefault();\n      if(window.mouseDown) {\n        var rect = this.canvas.getBoundingClientRect();\n        let x, y;\n\n        // We need to get the position differently on mobile and web devices\n        if (event.type === \"mousemove\") {\n          x = event.clientX - rect.left;\n          y = event.clientY - rect.top;\n        } else {\n           x = event.pageX - rect.left;\n           y = event.pageY - rect.top;\n        }\n\n        x = x - (x % 20);\n        y = y - (y % 20);\n\n\n        if(this.erase === false) {\n          this.ctx.fillStyle = this.fillColor;\n          this.ctx.fillRect(x,y,20,20);\n        } else{\n          this.ctx.clearRect(x, y, 20, 20);\n        }\n      }\n    }\n\n\n    /**\n    * Toggles the erase state ON\n    * @return {void}\n    */\n    toggleErase() {\n      this.erase = true;\n      this.colorPicker.setInactive();\n    }\n\n    /**\n    * Toggles on the pencil which toggles off erase && colorpicker\n    * @return {void}\n    */\n    activatePencil() {\n      this.erase = false;\n      this.colorPicker.setInactive();\n    }\n\n    /**\n    * Takes a color and sets the fill color as it\n    * @param {string} color\n    * @return {void}\n    */\n    setColor(color) {\n      this.fillColor = color;\n      this.erase = false;\n    }\n\n    /**\n    * Sets a reference to the color picker\n    * @param {object} colorPicker\n    * @returns {void}\n    */\n    setColorPickerRef(colorPicker) {\n      this.colorPicker = colorPicker;\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/stage.js","export default class {\n\n  /**\n  * Colorpicker functionality wrapper\n  * @param {Colorpicker} object that has plugin functionality\n  * @param {Stage} stage - reference to current stage\n  * @return {void}\n  */\n  constructor(colorpicker, stage) {\n    this.isActive = false;\n    this.colorpicker = colorpicker;\n    this.stage = stage;\n    this.elem;\n    this.init();\n  }\n\n  /**\n  * Initializes the colorpicker by creating it and binding events\n  * @return {void}\n  */\n  init() {\n    this.elem = document.getElementById(\"colorpicker\");\n    const pickerElem = document.getElementById(\"displayPicker\");\n    pickerElem.addEventListener(\"click\", () => {\n      this.toggleActive();\n    });\n\n    this.colorpicker.onchange = (picker) => {\n      this.stage.setColor(picker.color);\n    };\n  }\n\n  /**\n  * Turns the colorpicker off\n  * @return void\n  */\n  setInactive() {\n\n    if(this.isActive) {\n      this.elem.classList.toggle('active');\n      this.isActive = false;\n    }\n  }\n\n  /**\n  * Toggle the display of the color picker\n  * @return {void}\n  */\n  toggleActive() {\n    this.elem.classList.toggle('active');\n    if(this.isActive) {\n      this.isActive = false;\n    } else {\n      this.isActive = true;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/colorpicker.js","export default class {\n\n  constructor(stage) {\n    this.stage = stage;\n    this.nameField;\n    this.localKeys;\n    this.saveWrapper;\n    this.init();\n  }\n\n\n  /**\n  * Initializes the file handler and binds events\n  * @return {void}\n  */\n  init() {\n    this.localKeys = Object.keys(localStorage);\n\n    const saveOpener = document.getElementById(\"saveOpener\");\n    saveOpener.addEventListener(\"click\", () =>  {\n      this.handleShowSaveBox();\n    });\n\n    const saveClose = document.getElementById(\"close-save-wrapper\");\n    saveClose.addEventListener(\"click\", () =>  {\n      this.handleShowSaveBox();\n    });\n\n    const saveHandler = document.getElementById(\"save\");\n    saveHandler.addEventListener(\"click\", () => {\n      this.handleSave();\n    });\n\n    const loadHandler = document.getElementById(\"load\");\n    loadHandler.addEventListener(\"click\", () => {\n      this.handleLoad();\n    });\n\n\n    this.saveWrapper = document.getElementById(\"save-popup-wrapper\");\n    this.nameField = document.getElementById(\"filename\");\n    this.handleInitialLoad();\n  }\n\n  /**\n  * Handles the initial load from the home screen by examining the query string\n  * If a load value is set it will attempt to load it to the page\n  * @return {void}\n  */\n  handleInitialLoad() {\n    const localStorageKey = this.getParameterByName('load');\n\n    //index of returns -1 on a not found\n\n    this.localKeys = localforage.keys().then((keys) => {\n      if(keys.indexOf(localStorageKey != -1) && localStorageKey != null) {\n        this.localKeys = localforage.getItem(localStorageKey).then((value) => {\n          this.handleLoad(value);\n        }).catch(function (err) {\n          console.log('Error Loading JSON');\n        });\n      }\n    }).catch(function (err) {\n      console.log('Error Getting Keys');\n    });\n\n\n    // if(this.localKeys.indexOf(localStorageKey != -1) && localStorageKey != null) {\n    //   // this.handleLoad(localStorage.getItem(localStorageKey));\n    // }\n\n  }\n\n  /**\n  * Handles the hide and show of the save box\n  * @return {void}\n  */\n  handleShowSaveBox() {\n    this.saveWrapper.classList.toggle('active')\n  }\n\n  /**\n  * Returns the value for the key passed in for the current urls query string\n  * @param {string} name\n  * @return {string}\n  */\n  getParameterByName(name) {\n    var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n    return match && decodeURIComponent(match[1].replace(/\\+/g, ' '));\n  }\n\n  /**\n  * Converts the RGB code to human readable format\n  * @param {string} r - red value\n  * @param {string} g - green value\n  * @param {string} b - blue value\n  * @return {string} - hex string representing a color i.e #fffff\n  */\n  rgbToHex(r, g, b) {\n      if (r > 255 || g > 255 || b > 255)\n          throw \"Invalid color component\";\n      return ((r << 16) | (g << 8) | b).toString(16);\n  }\n\n  /**\n  * Saves the current stage state as json encoded array to the file system\n  * @return {void} - But side effect of a new file\n  */\n  handleSave() {\n\n    const name = this.nameField.value;\n\n    if(name.trim() == ''){\n      alert(\"Name cannot be blank\");\n      return;\n    }\n\n\n    let savedContent = [];\n    let columnCount = 0;\n    for(let y = 5; y < this.stage.canvas.height; y = y + 20){\n      savedContent[columnCount] = [];\n      for(let x = 5; x < this.stage.canvas.width; x = x + 20){\n        let p = this.stage.ctx.getImageData(x, y, 1, 1).data;\n        let hex;\n\n        //This handles the pure black code which will return #0 and fail in this setup\n        if(p[0] == 0 && p[1] == 0 && p[2] == 0 && p[3] == 255){\n          hex = \"#000000\";\n        } else {\n          hex = \"#\" + (this.rgbToHex(p[0], p[1], p[2])).slice(-6);\n        }\n        //if it's blank we change it to white to display later\n        //TODO if we go to a checked BG this needs to change\n        if(hex == \"#0\") {\n          hex = \"#ffffff\"\n        }\n        savedContent[columnCount].push(hex);\n\n      }\n      columnCount++;\n    }\n    savedContent = JSON.stringify(savedContent);\n\n    // localStorage.setItem(name, savedContent);\n    window.localforage.setItem(name, savedContent);\n    //TODO create better alert functionality\n    alert(\"Image Saved!\");\n    this.saveWrapper.classList.toggle('active')\n  }\n\n\n  /**\n  * Loads a json encoded string, parses it, and then outputs it to the screen\n  * @param {jsonstring} a json encoded string that contains the paiting data\n  * NOTE: this must be JSON or the attempt to parse it will fail\n  * @return {void}\n  */\n  handleLoad(loadContent) {\n    loadContent = JSON.parse(loadContent);\n    for(let y = 0; y < loadContent.length; y++) {\n      for(let x = 0; x < loadContent[y].length; x++) {\n        this.stage.ctx.fillStyle = loadContent[y][x];\n        this.stage.ctx.fillRect(x * 20,y * 20,20,20);\n        this.stage.bgctx.stroke();\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fileHandler.js","// Class for handling sidebar clicks and active states\nexport default class {\n\n  constructor(stage) {\n    this.stage = stage;\n    this.init();\n  }\n\n  /**\n  * Initilzies and binds events\n  * @return {void}\n  */\n  init() {\n    let classname = document.getElementsByClassName(\"sidebar-item\");\n        for (let i = 0; i < classname.length; i++) {\n           classname[i].addEventListener('click',(event) => {\n             this.switchActiveSidebar(event.srcElement)\n           });\n       }\n  }\n\n  /**\n  * Sets the active class on sidebar items\n  * @param {String} elem that was clicked\n  * @return {void}\n  */\n  switchActiveSidebar(elem) {\n\n    let promise = new Promise(function(resolve, reject) {\n      let currentlyActive = document.querySelector(\".sidebar-item.active\");\n      currentlyActive.classList.remove(\"active\");\n      return resolve(\"Stuff worked!\");\n    });\n\n    promise.then(result => {\n\n      //Grab the parent as clicks on I won't get active correclty\n      if(elem.nodeName === \"I\") {\n        elem = elem.parentElement;\n      }\n      elem.className += \" active\";\n    })\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sidebarHandler.js","export default class {\n\n  constructor() {\n\n      this.button;\n      this.elem;\n      this.localKeys;\n      this.loadItemsInsert;\n      this.init();\n  }\n\n\n  /**\n  * Initializes by creating it and binding events\n  * @return {void}\n  */\n  init() {\n    this.elem = document.getElementById(\"loader\");\n    this.loadItemsInsert = document.getElementById(\"loaded-items-insert\");\n\n    this.button = document.getElementById(\"load-button\");\n    this.button.addEventListener('click',(event) => {\n      this.handleLoaderToggle()\n    });\n\n    const closeLoader = document.getElementById(\"close-load-wrapper\");\n    closeLoader.addEventListener('click',(event) => {\n      this.handleLoaderToggle()\n    });\n\n    this.setLocalKeys();\n  }\n\n  /**\n  * Gets the keys of the localstorage objects and binds them to the object\n  * @return {void}\n  */\n  setLocalKeys() {\n    // this.localKeys = Object.keys(localStorage);\n    // console.log(localforage.keys());\n    this.localKeys = localforage.keys().then((keys) => {\n      this.generateLoadHtml(keys)\n    }).catch(function (err) {\n      console.log('Error Getting Keys')\n    });\n  }\n\n\n  /**\n  * Generates HTML to allow the loading of saved images\n  * @param {array} keys\n  * @return {void}\n  */\n  generateLoadHtml(keys) {\n    console.log(\"HTML generated\")\n    let outputHtml = \"\";\n    for(var x = 0; x < keys.length; x++) {\n      outputHtml += \"<div><h2><a href='editor.html?load=\"+keys[x]+\"'>\"+keys[x]+\"</a></h2></div>\";\n    }\n\n    this.loadItemsInsert.innerHTML = outputHtml;\n  }\n\n\n  /**\n  * Handles display of the load overlay\n  * @return {void}\n  */\n  handleLoaderToggle() {\n    console.log(\"Load Button Clicked\")\n    this.elem.classList.toggle('active')\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/loadHandler.js","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles/index.scss\n// module id = 7\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Gloria+Hallelujah);\", \"\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Patrick+Hand);\", \"\"]);\n\n// module\nexports.push([module.id, \"body{font-family:Gloria Hallelujah,cursive;font-family:Patrick Hand,cursive}.stage-wrapper,body,html{margin:0;padding:0;width:100%;height:100vh;overflow-y:hidden;font-size:16px}.stage-wrapper{display:flex}#background-canvas{position:absolute;top:0;left:0;z-index:3}.options-wrapper{width:50px;height:100%;background:#150832;color:#fff}.options-wrapper ul{padding:0;margin:0;list-style:none}.options-wrapper ul li{width:100%;text-align:center;padding:10px 0;border-bottom:1px solid #3c2473;transition:all .5s;cursor:pointer}.options-wrapper ul li:hover{background:#3c2473}.options-wrapper ul li.active{background:#623179}.canvas-wrapper{width:calc(100% - 50px);height:100%}#colorpicker{position:absolute;display:none}#colorpicker.active{display:block;z-index:5}.home-wrapper{font-size:1.5rem;background:#150832;height:100vh;width:100%;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.home-wrapper button{background:#3c2473;border:1px solid #623179;color:#fff;padding:10px 20px;cursor:pointer;transition:all .5s;font-size:1.25rem;width:150px;margin:5px}.home-wrapper button:active,.home-wrapper button:hover{background:#150832}.home-wrapper h1,.home-wrapper h2,.home-wrapper h3,.home-wrapper h4{margin:0;padding:0}.home-wrapper .text-wrapper{text-align:center;margin-bottom:55px}.home-wrapper .load-wrapper{position:absolute;left:0;top:-1000px;opacity:0;width:100%;height:100%;z-index:2;transition:opacity .5s,top 3s .1s;background:hsla(0,0%,100%,.55);flex-direction:column;align-items:center;justify-content:center;display:flex}.home-wrapper .load-wrapper.active{top:0;opacity:1;transition:opacity .5s}.home-wrapper .load-wrapper .load-container{background:#3c2473;width:90%;max-width:600px;height:75%;padding:5px}.home-wrapper .load-wrapper .load-container h2{border-bottom:1px solid #623179;padding-bottom:10px}.home-wrapper .load-wrapper a{color:#fff;text-decoration:none}.home-wrapper .load-wrapper #close-load-wrapper{text-align:right;padding:10px;font-size:1.25rem;cursor:pointer}#editor #save-popup-wrapper{position:absolute;top:-500px;left:0;transition:all .5s;background:#150832;color:#fff;width:100%;z-index:5}#editor #save-popup-wrapper.active{top:0}#editor #save-popup-wrapper .save-pop-up-wrapper-inner{max-width:620px;margin:0 auto;padding:0 10px;padding-bottom:25px}#editor #save-popup-wrapper .save-pop-up-wrapper-inner input{width:50%;border:2px solid #623179;padding:10px;background:none;color:#fff}#editor #save-popup-wrapper .save-pop-up-wrapper-inner button{background:#150832;border:1px solid #623179;color:#fff;padding:8px 10px;cursor:pointer;transition:all .5s;font-size:1rem;width:150px;margin:5px}#editor #save-popup-wrapper .save-pop-up-wrapper-inner button:active,#editor #save-popup-wrapper .save-pop-up-wrapper-inner button:hover{background:#3c2473}#editor #save-popup-wrapper .save-pop-up-wrapper-inner #close-save-wrapper{text-align:right;padding:10px;font-size:1.25rem;cursor:pointer}#loading-wrapper{position:absolute;top:0;left:0;background:#fff;width:100%;height:100vh;display:flex;justify-content:center;flex-direction:column;text-align:center}#loading-wrapper.removed{display:none}#loading-wrapper .fa-spinner{font-size:4rem;-webkit-animation:rotating 2s linear infinite;-moz-animation:rotating 2s linear infinite;-ms-animation:rotating 2s linear infinite;-o-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}@keyframes rotating{0%{-ms-transform:rotate(0deg);-moz-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-ms-transform:rotate(1turn);-moz-transform:rotate(1turn);-webkit-transform:rotate(1turn);-o-transform:rotate(1turn);transform:rotate(1turn)}}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader/lib/loader.js!./src/styles/index.scss\n// module id = 8\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 9\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/lib/addStyles.js\n// module id = 10\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/lib/urls.js\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}